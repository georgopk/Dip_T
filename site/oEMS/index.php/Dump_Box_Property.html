<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Dump Box Property,Box" />
		<link rel="shortcut icon" href="http://openems.de/index.php/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://openems.de/index.php/opensearch_desc.php" title="openEMS (en)" />
		<link title="Creative Commons" type="application/rdf+xml" href="http://openems.de/index.php/index.php?title=Dump_Box_Property&amp;action=creativecommons" rel="meta" />
		<link rel="copyright" href="https://creativecommons.org/licenses/by-sa/3.0/deed.de" />
		<link rel="alternate" type="application/rss+xml" title="openEMS RSS Feed" href="http://openems.de/index.php/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="openEMS Atom Feed" href="http://openems.de/index.php/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Dump Box Property - openEMS</title>
		<link rel="stylesheet" href="../skins/common/shared.css%3F207.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="../skins/common/commonPrint.css%3F207.css" type="text/css" media="print" />
		<link rel="stylesheet" href="../skins/monobook/main.css%3F207.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="http://openems.de/index.php/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="http://openems.de/index.php/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="http://openems.de/index.php/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="http://openems.de/index.php/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/index.php/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Dump_Box_Property";
		var wgTitle = "Dump Box Property";
		var wgAction = "view";
		var wgArticleId = "138";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 1156;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="../skins/common/wikibits.js%3F207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="../skins/common/ajax.js%3F207"></script>
		<script type="text/javascript" src="http://openems.de/index.php/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	<style type='text/css'> #turnkey-credit { font-family: Tahoma,Sans,Arial,Helvetica,Verdana,sans-serif; font-size: 11px; text-align: center; } #turnkey-credit a { text-decoration: none; } #turnkey-credit a:hover { text-decoration: underline; } </style></head>
<body class="mediawiki ltr ns-0 ns-subject page-Dump_Box_Property skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Dump Box Property</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From openEMS</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="Dump_Box_Property.html#column-one">navigation</a>, <a href="Dump_Box_Property.html#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="Dump_Box_Property.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="Dump_Box_Property.html#Add_field_dumps_in_openEMS"><span class="tocnumber">2</span> <span class="toctext">Add field dumps in openEMS</span></a>
<ul>
<li class="toclevel-2"><a href="Dump_Box_Property.html#Invoke_field_dump"><span class="tocnumber">2.1</span> <span class="toctext">Invoke field dump</span></a></li>
<li class="toclevel-2"><a href="Dump_Box_Property.html#Add_primitive_to_the_field_dump"><span class="tocnumber">2.2</span> <span class="toctext">Add primitive to the field dump</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="Dump_Box_Property.html#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1"><a href="Dump_Box_Property.html#Warnings"><span class="tocnumber">4</span> <span class="toctext">Warnings</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Introduction" id="Introduction"></a></p>
<h2><span class="mw-headline">Introduction</span></h2>
<p>Adding a field dump in openEMS is a two stage process. First, a dump property is added to the CSX structure with a given name and properties. Here one defines which fields will be saved and other options such as the file type, interpolation mode, etc. In the second step the geometry of the field dump is defined by adding a primitive to the field dump.</p>
<p><a name="Add_field_dumps_in_openEMS" id="Add_field_dumps_in_openEMS"></a></p>
<h2><span class="mw-headline">Add field dumps in openEMS</span></h2>
<p><a name="Invoke_field_dump" id="Invoke_field_dump"></a></p>
<h3><span class="mw-headline">Invoke field dump</span></h3>
<p>A field dump is invoked by</p>
<pre>
CSX = AddDump(CSX, name, varargin)
</pre>
<p><b>Note:</b> The name given to a dump box will be used as filename or part of a series of filenames (e.g. vtk time domain dump).</p>
<p>Variable arguments for usage with openEMS are:</p>
<ul>
<li><b>DumpType</b>:
<ul>
<li>0: for E-field time-domain dump (default)</li>
<li>1: for H-field time-domain dump</li>
<li>2: for electric current time-domain dump</li>
<li>3: for total current density (rot(H)) time-domain dump</li>
<li>10: for E-field frequency-domain dump</li>
<li>11: for H-field frequency-domain dump</li>
<li>12: for electric current frequency-domain dump</li>
<li>13: for total current density (rot(H)) frequency-domain dump</li>
<li>20: local SAR frequency-domain dump</li>
<li>21: 1g averaging SAR frequency-domain dump</li>
<li>22: 10g averaging SAR frequency-domain dump</li>
<li>29: raw data needed for SAR calculations (electric field FD, cell volume, conductivity and density)</li>
</ul>
</li>
</ul>
<ul>
<li><b>Frequency</b>: specify a frequency vector (<b>required</b> for dump types &gt;=10)</li>
</ul>
<ul>
<li><b>DumpMode</b>:
<ul>
<li>0: no-interpolation</li>
<li>1: node-interpolation (default, see warning below)</li>
<li>2: cell-interpolation (see warning below)</li>
</ul>
</li>
</ul>
<ul>
<li><b>FileType</b>:
<ul>
<li>0: vtk-file dump (default)</li>
<li>1: hdf5-file dump</li>
</ul>
</li>
</ul>
<ul>
<li><b>SubSampling</b>: field domain sub-sampling, e.g. '2,2,4', which means, dump only every second line in x- and y- and only every forth line in z-direction.</li>
<li><b>OptResolution</b>: field domain dump resolution, e.g. '10' or '10,20,5', which means, choose lines to dump in such a way, that they are about 10 (drawing units) apart from another (or e.g. 10 in x-, 20 in y- and 5 in z-direction). This can mean in some area that every line is dumped (as they may be about 10 drawing units or more apart), or maybe only every second, or tenth etc. line to result in an average distance of &lt;10 drawing units apart. The first and last line inside the dump box are always choosen. Note: The dumped lines must not be homogeneous, they only try to be as much as possible. This option may be useful in case of a very inhomogeneous FDTD mesh to create a somewhat more homogeneous field dump.</li>
</ul>
<p><a name="Add_primitive_to_the_field_dump" id="Add_primitive_to_the_field_dump"></a></p>
<h3><span class="mw-headline">Add primitive to the field dump</span></h3>
<p>The coordinates that are used for the field dump can be defined with a <a href="Box.html" title="Box">box</a> primitive. Other primitives may be used by their bounding box or result in an invalid field dump. The property name assigned to the box is the name of the field dump defined before.</p>
<p><a name="Examples" id="Examples"></a></p>
<h2><span class="mw-headline">Examples</span></h2>
<pre>
CSX = AddDump(CSX,'Et');
CSX = AddBox(CSX,'Et',10,[0 0 0],[100 100 200]); %assign box
</pre>
<p>This saves the electric field for each time step (time domain) inside the box.</p>
<hr />
<pre>
CSX = AddDump(CSX,'Ef', 'DumpType', 10, 'Frequency',[1e9 2e9]);
CSX = AddBox(CSX,'Ef',10,[0 0 0],[100 100 200]); %assign box
</pre>
<p>This saves the complex field amplitudes at the frequencies 1e9 and 2e9 for each point inside the box.</p>
<hr />
<pre>
CSX = AddDump(CSX,'Ht','SubSampling','2,2,4','DumpType',1);
CSX = AddBox(CSX,'Ht',10,[0 0 0],[100 100 200]); %assign box
</pre>
<p>This saves the time-domain magnetic field with sub sampling.</p>
<p><a name="Warnings" id="Warnings"></a></p>
<h2><span class="mw-headline">Warnings</span></h2>
<p>There are some common FDTD interpolation abnormalities:</p>
<ul>
<li><b>no-interpolation</b>: fields are located on the edges of the Yee-cell (<a href="https://en.wikipedia.org/wiki/FDTD" class="external text" title="https://en.wikipedia.org/wiki/FDTD" rel="nofollow">FDTD</a>), the dumped mesh only specifies E- or H-Yee-nodes --&gt; use node- or cell-interpolation or be aware of the offset</li>
<li><b>E-/J-field dump &amp; node-interpolation</b>: normal electric fields on boundaries will have false amplitude due to forward/backward interpolation in case of (strong) changes in material permittivity or on metal surfaces --&gt; use no- or cell-interpolation in this case</li>
<li><b>H-field dump &amp; cell-interpolation</b>: normal magnetic fields on boundaries will have false amplitude due to forward/backward interpolation in case of (strong) changes in material permeability --&gt; use no- or node-interpolation</li>
</ul>


<!-- 
NewPP limit report
Preprocessor node count: 19/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki_db:pcache:idhash:138-0!1!0!!en!2!edit=0 and timestamp 20181110114349 -->
<div class="printfooter">
Retrieved from "<a href="Dump_Box_Property.html">index.php/Dump_Box_Property</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../images/logo.png);" href="http://openems.de/index.php/Main_Page.html" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Front-Page"><a href="https://www.openEMS.de">Front Page</a></li>
				<li id="n-Wiki-Main-Page"><a href="http://openems.de/index.php/Main_Page.html">Wiki Main Page</a></li>
				<li id="n-Forum"><a href="https://www.openEMS.de/forum">Forum</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-documentation'>
		<h5>documentation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Installation"><a href="https://openems.de/index.php/OpenEMS#Installation">Installation</a></li>
				<li id="n-Tutorials"><a href="http://openems.de/index.php/Tutorials.html">Tutorials</a></li>
				<li id="n-Overview"><a href="http://openems.de/index.php/Overview.html">Overview</a></li>
				<li id="n-Online-Manual"><a href="Introduction.html">Online Manual</a></li>
				<li id="n-FAQ"><a href="Frequently_Asked_Questions.html">FAQ</a></li>
				<li id="n-Publications"><a href="http://openems.de/index.php/Publications.html">Publications</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-copyrightico"><a href="https://creativecommons.org/licenses/by-sa/3.0/deed.de"><img src="https://i.creativecommons.org/l/by-sa/3.0/de/88x31.png" alt='Creative Commons 3.0 (CC by-sa)' /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 26 May 2017, at 21:21.</li>
					<li id="viewcount">This page has been accessed 36,971 times.</li>
					<li id="copyright">Content is available under <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.de" class="external " title="https://creativecommons.org/licenses/by-sa/3.0/deed.de">Creative Commons 3.0 (CC by-sa)</a>.</li>
					<li id="privacy"><a href="../start/index.php%3Fshow=privacy.html" title="openEMS:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="http://openems.de/index.php/index.php/openEMS:About" title="openEMS:About">About openEMS</a></li>
					<li id="privacy"><a href="../start/index.php%3Fshow=imprint.html" title="openEMS:Imprint">Imprint</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</body></html>
